{% extends 'base.html' %}
{% load static %}

{% block title %}{{ post.title }} - Blog - GYWAN{% endblock %}

{% block content %}
<div class="elixir-news-wrap" style="display:flex;gap:48px;max-width:1200px;margin:0 auto;padding:60px 0;">
  <main class="elixir-news-main" style="flex:3;">
    <article class="elixir-news-card" style="background:#fff;border-radius:16px;box-shadow:0 4px 24px rgba(136,36,199,0.08);overflow:hidden;">
      {% if post.image %}
      <div class="elixir-news-img" style="width:100%;height:340px;overflow:hidden;background:#f3eaff;">
        <img src="{{ post.image.url }}" alt="{{ post.title }}" style="width:100%;height:100%;object-fit:cover;">
      </div>
      {% endif %}
      <div class="elixir-news-content" style="padding:32px 28px;">
        <h1 class="elixir-news-title" style="font-size:2rem;font-weight:700;color:#8824C7;margin-bottom:18px;">{{ post.title }}</h1>
        <div class="elixir-news-meta" style="color:#888;font-size:1rem;margin-bottom:18px;display:flex;gap:18px;flex-wrap:wrap;">
          <span><i class="fas fa-user"></i> {{ post.author }}</span>
          <span><i class="fas fa-calendar"></i> {{ post.created_at|date:"M d, Y" }}</span>
          {% if post.tags %}<span><i class="fas fa-tag"></i> {{ post.tags }}</span>{% endif %}
        </div>
        <p style="color: #7C1BB2; font-style: italic;">See more about this on our socials:</p>
        <div class="elixir-news-social" style="margin-bottom:18px;display:flex;gap:16px;">
          {% if post.facebook_url %}<a href="{{ post.facebook_url }}" target="_blank" title="Facebook"><i class="fab fa-facebook"></i></a>{% endif %}
          {% if post.instagram_url %}<a href="{{ post.instagram_url }}" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a>{% endif %}
          {% if post.youtube_url %}<a href="{{ post.youtube_url }}" target="_blank" title="YouTube"><i class="fab fa-youtube"></i></a>{% endif %}
          {% if post.twitter_url %}<a href="{{ post.twitter_url }}" target="_blank" title="Twitter/X"><i class="fab fa-twitter"></i></a>{% endif %}
        </div>
        <hr>
        <div class="elixir-news-body" style="color:#444;font-size:1.08rem;line-height:1.7;margin:32px;">
          {{ post.content|linebreaks }}
        </div>
      </div>
    </article>
    <!-- Comments Section -->
    <section class="comments-section" style="background:#fff;border-radius:16px;box-shadow:0 4px 24px rgba(136,36,199,0.08);padding:32px 24px;margin-top:48px;">
      <h2 class="comments-title">Comments</h2>
      <form method="post" action="" class="comments-form" style="margin-bottom:32px;">
        {% csrf_token %}
        <input type="text" name="name" placeholder="Your Name" required class="comments-input">
        <input type="email" name="email" placeholder="Your Email" required class="comments-input">
        <textarea name="comment" rows="3" placeholder="Write your comment..." required class="comments-input"></textarea>
        <button type="submit" class="comments-btn">Submit</button>
      </form>
      <div class="comments-list">
  <h4 class="comments-subtitle">Recent Comments</h4>
  <ul class="comment-thread">
    {% for comment in recent_comments %}
      <li class="comment-item">
        <div class="comment-avatar">
          <i class="fas fa-user-circle"></i>
        </div>
        <div class="comment-body">
          <div class="comment-header">
            <span class="comment-author">{{ comment.name }}</span>
            <span class="comment-date">{{ comment.created_at|date:"M d, Y H:i" }}</span>
          </div>
          <p class="comment-text">{{ comment.text }}</p>
        </div>
      </li>
    {% empty %}
      <li>No comments yet. Be the first to comment!</li>
    {% endfor %}
  </ul>
</div>

    </section>
  </main>
  <aside class="elixir-news-sidebar" style="flex:1;background:#fff;border-radius:16px;box-shadow:0 4px 24px rgba(136,36,199,0.08);padding:32px 24px;min-width:260px;max-width:320px;height:fit-content;">
    <div class="sidebar-block">
      <h4 class="sidebar-title">Useful Links</h4>
      <ul class="sidebar-list">
        <li><a href="{% url 'home' %}">Home</a></li>
        <li><a href="{% url 'about' %}">About</a></li>
        <li><a href="{% url 'resources' %}">Resources</a></li>
        <li><a href="{% url 'events' %}">Events</a></li>
        <li><a href="{% url 'contact' %}">Contact</a></li>
      </ul>
    </div>
  </aside>
</div>
{% endblock %}

{% block extra_css %}
<style>
.elixir-news-wrap {
  display: flex;
  gap: 40px;
  max-width: 1100px;
  margin: 0 auto;
  padding: 48px 0;
}
.elixir-news-main {
  flex: 3;
}
.elixir-news-card {
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 6px 32px rgba(136,36,199,0.10);
  overflow: hidden;
  margin-bottom: 32px;
}
.elixir-news-img {
  width: 100%;
  height: 320px;
  overflow: hidden;
  background: #f3eaff;
  border-top-left-radius: 18px;
  border-top-right-radius: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.elixir-news-img img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s;
}
.elixir-news-content {
  padding: 32px 28px 28px 28px;
}
.elixir-news-title {
  font-size: 2.1rem;
  font-weight: 800;
  color: #7C1BB2;
  margin-bottom: 16px;
}
.elixir-news-meta {
  color: #888;
  font-size: 1rem;
  margin-bottom: 16px;
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
}
.elixir-news-social {
  margin-bottom: 16px;
  display: flex;
  gap: 16px;
}
.elixir-news-body {
  color: #333;
  font-size: 1.08rem;
  line-height: 1.75;
  margin-bottom: 24px;
}
.elixir-news-sidebar {
  flex: 1;
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 6px 32px rgba(136,36,199,0.10);
  padding: 32px 22px;
  min-width: 240px;
  max-width: 320px;
  height: fit-content;
}
.sidebar-block {
  margin-bottom: 28px;
}
.sidebar-title {
  font-size: 1.08rem;
  font-weight: 700;
  color: #7C1BB2;
  margin-bottom: 10px;
}
.sidebar-list {
  list-style: none;
  padding: 0;
  margin: 0;
}
.sidebar-list li {
  margin-bottom: 7px;
}
.sidebar-list a {
  color: #8824C7;
  text-decoration: none;
  font-weight: 500;
  transition: color 0.2s;
}
.sidebar-list a:hover {
  color: #FFDE2F;
}
.comments-section {
  background: #ffffff;
  border-radius: 18px;
  box-shadow: 0 6px 24px rgba(136, 36, 199, 0.08);
  padding: 32px 28px;
  margin-top: 48px;
}

.comments-title {
  font-size: 1.35rem;
  font-weight: 800;
  color: #7C1BB2;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.comments-title::before {
  content: "ðŸ’¬";
  font-size: 1.2rem;
}

.comments-form {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 32px;
}

.comments-input {
  border: 1.5px solid #e0d3ef;
  border-radius: 12px;
  padding: 12px;
  font-size: 1rem;
  resize: vertical;
  background: #faf7fc;
  transition: border 0.2s, background 0.2s;
}

.comments-input:focus {
  border-color: #7C1BB2;
  background: #fff;
  outline: none;
  box-shadow: 0 0 0 3px rgba(124, 27, 178, 0.1);
}

.comments-btn {
  background: linear-gradient(90deg, #8824C7, #FFDE2F);
  color: #fff;
  border: none;
  border-radius: 25px;
  padding: 10px 22px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  align-self: flex-start;
  transition: transform 0.15s, box-shadow 0.15s;
}

.comments-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(124, 27, 178, 0.2);
}

.comments-list {
  margin-top: 20px;
}

.comments-subtitle {
  font-size: 1.05rem;
  font-weight: 700;
  color: #7C1BB2;
  margin-bottom: 16px;
}

.comment-thread {
  list-style: none;
  padding: 0;
  margin: 0;
}

.comment-item {
  display: flex;
  gap: 14px;
  padding: 14px 0;
  border-bottom: 1px solid #eee;
}

.comment-avatar {
  flex-shrink: 0;
  width: 42px;
  height: 42px;
  border-radius: 50%;
  background: linear-gradient(135deg, #7C1BB2, #FFDE2F);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.4rem;
  color: #fff;
}

.comment-body {
  flex: 1;
}

.comment-header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: 4px;
}

.comment-author {
  font-weight: 700;
  color: #7C1BB2;
}

.comment-date {
  color: #999;
  font-size: 0.85rem;
}

.comment-text {
  color: #444;
  line-height: 1.5;
}

@media (max-width: 900px) {
  .elixir-news-wrap {
    flex-direction: column;
    gap: 0;
  }
  .elixir-news-sidebar {
    margin-top: 0;
    max-width: 100%;
    min-width: 0;
    padding: 24px 10px;
  }
}
</style>
{% endblock %}
