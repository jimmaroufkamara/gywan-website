{% extends 'base.html' %}
{% load static %}

{% block title %}Contact GYWAN - Get in Touch{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/contact.css' %}">
{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="page-header" data-aos="fade-up">
    <div class="container">
        <h1 class="page-title fade-in">Contact us</h1>
        <p class="page-subtitle fade-in">Have a question? We may not be able to respond to all messages, but we'll do our best to help.</p>
    </div>
</section>

<!-- Contact Form Section -->
<section class="contact-section" data-aos="fade-up">
    <div class="container">
        <div class="contact-container">
            <!-- Contact Form -->
            <div class="contact-form-wrapper">
                <form method="post" class="contact-form" id="contact-form">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="id_name">Name</label>
                        {{ form.name }}
                        {% if form.name.errors %}
                            <div class="error-message">{{ form.name.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="id_email">Email</label>
                        {{ form.email }}
                        {% if form.email.errors %}
                            <div class="error-message">{{ form.email.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="id_country">Country</label>
                        <select name="country" id="id_country" class="form-control">
                            <option value="">Select your country</option>
                            <option value="kenya">Sierra Leone</option>
                            <option value="ghana">Ghana</option>
                            <option value="nigeria">Nigeria</option>
                            <option value="kenya">Kenya</option>
                            <option value="south-africa">South Africa</option>
                            <option value="ethiopia">Ethiopia</option>
                            <option value="tanzania">Tanzania</option>
                            <option value="uganda">Uganda</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="id_subject">Subject</label>
                        <select name="subject" id="id_subject" class="form-control">
                            <option value="">Select a subject</option>
                            <option value="general">General enquiry</option>
                            <option value="media">Media</option>
                            <option value="donations">Donations</option>
                            <option value="resources">Resources</option>
                            <option value="partnership">Partnership</option>
                            <option value="volunteer">Sharing A Story</option>
                        </select>
                        {% if form.subject.errors %}
                            <div class="error-message">{{ form.subject.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="id_message">Message</label>
                        {{ form.message }}
                        {% if form.message.errors %}
                            <div class="error-message">{{ form.message.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="privacy" required>
                            <span class="checkmark"></span>
                            I agree to be contacted by GYWAN in response to my enquiry. I understand that my data will be kept responsibly in line with GYWAN's Privacy Policy.
                        </label>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-large">
                        Submit
                    </button>
                </form>
            </div>
            
            <!-- Contact Information -->
            <div class="contact-info">
                <div class="contact-location">
                    <h3>Locate Us At</h3>
                    <p>4 Old Railway Line Tengbeh Town<br>
                    Western Area <br>
                    Sierra Leone</p>
                    </div>
                
                    <div class="contact-details">
                    <div class="contact-item">
                        <h4>Email</h4>
                        <p>youngwomensadvocacynetwork@gmail.com</p>
                </div>
                
                <div class="contact-item">
                        <h4>Phone</h4>
                        <p>+232 78554262</p>
                </div>
                
                <div class="contact-item">
                        <h4>Office Hours</h4>
                        <p>Monday - Friday: 9:00 AM - 6:00 PM GMT</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="faq-section" data-aos="fade-up">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title fade-in">Common queries</h2>
            <p class="section-subtitle fade-in">Quick answers to frequently asked questions</p>
        </div>
        <div class="faq-container">
            <div class="faq-item fade-in">
                <div class="faq-question">
                    <h3>How can I get involved with GYWAN?</h3>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>There are many ways to get involved! You can volunteer, donate, partner with us, or spread awareness about our mission. Contact us to discuss how your skills and interests can contribute to our work.</p>
                </div>
            </div>
            
            <div class="faq-item fade-in">
                <div class="faq-question">
                    <h3>Do you accept international volunteers?</h3>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>Yes! We welcome volunteers from around the world. We have both remote and in-person opportunities available. Please reach out to discuss your availability and interests.</p>
                </div>
            </div>
            
            <div class="faq-item fade-in">
                <div class="faq-question">
                    <h3>How do you use donations?</h3>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>Your donations directly fund our programs including leadership workshops, mentorship programs, advocacy initiatives, and community outreach. We maintain transparency and provide regular updates on how funds are used.</p>
                </div>
            </div>
            
            <div class="faq-item fade-in">
                <div class="faq-question">
                    <h3>Can organizations partner with GYWAN?</h3>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>We're always looking for strategic partnerships with organizations that share our mission. We work with NGOs, corporations, educational institutions, and government agencies.</p>
                </div>
            </div>
            
            <div class="faq-item fade-in">
                <div class="faq-question">
                    <h3>How can I stay updated on GYWAN's work?</h3>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>Subscribe to our newsletter, follow us on social media, and check our blog for regular updates on our programs, impact stories, and upcoming events.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- PARTNERS SECTION ( with slider) -->
<section class="partners scroll-reveal" style="background: #fff; padding: 48px 0 32px 0;">
  <div class="container partners-container" style="text-align:center;">
    <h2 style="font-size:2rem; color:#2c3e50; font-weight:700; margin-bottom:32px;">Our Partners</h2>
    <div class="partners-slider-outer">
      <div class="partners-slider-track">
        <img src="{% static 'images/partner1.png' %}" alt="Partner 1" class="partner-logo">
        <img src="{% static 'images/partner2.png' %}" alt="Partner 2" class="partner-logo">
        <img src="{% static 'images/partner1.png' %}" alt="Partner 3" class="partner-logo">
        <img src="{% static 'images/partner2.png' %}" alt="Partner 4" class="partner-logo">
        <!-- Duplicate for seamless loop -->
        <img src="{% static 'images/partner1.png' %}" alt="Partner 1" class="partner-logo">
        <img src="{% static 'images/partner2.png' %}" alt="Partner 2" class="partner-logo">
        <img src="{% static 'images/partner1.png' %}" alt="Partner 3" class="partner-logo">
        <img src="{% static 'images/partner2.png' %}" alt="Partner 4" class="partner-logo">
      </div>
    </div>
  </div>
</section>
<style>
    .partners-slider-outer {
        overflow: hidden;
        width: 100%;
        max-width: 1100px;
        margin: 0 auto;
        position: relative;
        height: 90px;
        display: flex;
        align-items: center;
    }
    .partners-slider-track {
        display: flex;
        align-items: center;
        gap: 40px;
        animation: partners-slide 7s linear infinite;
        will-change: transform;
    }
    .partner-logo {
        height: 60px;
        width: auto;
        opacity: 0.7;
        transition: filter 0.3s, opacity 0.3s;
        max-width: 180px;
        margin: 0 10px;
        object-fit: contain;
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(136,36,199,0.07);
        padding: 8px 16px;
        user-select: none;
        pointer-events: auto;
    }
    .partner-logo:hover {
        filter: grayscale(0%) brightness(1) contrast(1);
        opacity: 1;
    }
    @keyframes partners-slide {
        0% { transform: translateX(0); }
        100% { transform: translateX(-50%); }
    }
    @media (max-width: 700px) {
        .partners-slider-track { gap: 24px; }
        .partner-logo { height: 40px; max-width: 110px; padding: 4px 8px; }
        .partners-slider-outer { height: 60px; }
    }

    /* Mobile responsive styles for contact form */
    @media (max-width: 700px) {
        .contact-container {
            flex-direction: column;
            gap: 0;
        }
        .contact-form-wrapper, .contact-info {
            width: 100%;
            min-width: 0;
            max-width: 100%;
            box-sizing: border-box;
            padding: 0;
        }
        .contact-form {
            padding: 16px 8px;
            box-sizing: border-box;
        }
        .form-group, .form-check, .checkbox-group {
            width: 100%;
            box-sizing: border-box;
            margin-bottom: 16px;
        }
        .btn {
            width: 100%;
            font-size: 1rem;
            padding: 12px;
        }
        .contact-info {
            margin-top: 32px;
            padding: 0 8px;
        }
        .contact-location, .contact-details {
            width: 100%;
            box-sizing: border-box;
        }
        .faq-section {
            padding-left: 0;
            padding-right: 0;
        }
    }
</style>
<script>
  // Pause slider on hover for accessibility
  document.addEventListener('DOMContentLoaded', function() {
    var track = document.querySelector('.partners-slider-track');
    var outer = document.querySelector('.partners-slider-outer');
    if (track && outer) {
      outer.addEventListener('mouseenter', function() {
        track.style.animationPlayState = 'paused';
      });
      outer.addEventListener('mouseleave', function() {
        track.style.animationPlayState = 'running';
      });
    }
  });
</script>
{% endblock %}

{% block extra_js %}
<script>
// FAQ Toggle Functionality
document.querySelectorAll('.faq-question').forEach(question => {
    question.addEventListener('click', () => {
        const faqItem = question.parentElement;
        const answer = faqItem.querySelector('.faq-answer');
        const icon = question.querySelector('i');
        
        // Toggle active class
        faqItem.classList.toggle('active');
        
        // Toggle icon
        icon.classList.toggle('fa-chevron-down');
        icon.classList.toggle('fa-chevron-up');
        
        // Toggle answer visibility
        if (faqItem.classList.contains('active')) {
            answer.style.maxHeight = answer.scrollHeight + 'px';
        } else {
            answer.style.maxHeight = '0';
        }
    });
});

// Form validation
document.getElementById('contact-form').addEventListener('submit', function(e) {
    const name = document.getElementById('id_name').value.trim();
    const email = document.getElementById('id_email').value.trim();
    const subject = document.getElementById('id_subject').value.trim();
    const message = document.getElementById('id_message').value.trim();
    const privacy = document.querySelector('input[name="privacy"]').checked;
    
    if (!name || !email || !subject || !message || !privacy) {
        e.preventDefault();
        alert('Please fill in all required fields and accept the privacy policy.');
        return;
    }
    
    // Show loading state
    const submitBtn = e.target.querySelector('button[type="submit"]');
    submitBtn.innerHTML = 'Sending...';
    submitBtn.disabled = true;
});
</script>
{% endblock %}
